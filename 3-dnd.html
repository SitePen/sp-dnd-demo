<!DOCTYPE html>
<html>
<head>
	<title>dojo.dnd :: Step 3</title>
	<meta charset="utf-8">
	<style>
		@import url("http://archive.dojotoolkit.org/nightly/checkout/dojo/resources/dojo.css");
		@import url("http://archive.dojotoolkit.org/nightly/checkout/dojo/resources/dnd.css");
		@import url("http://archive.dojotoolkit.org/nightly/checkout/dijit/themes/tundra/tundra.css");
		@import url("site-3.css");
		@import url("dnd.css");
	</style>
	<script data-dojo-config="async: 1, paths: { util: location.pathname.replace(/[^/]+$/, '') + '/util' }" src="http://archive.dojotoolkit.org/nightly/checkout/dojo/dojo.js"></script>
	
	<script>
		require([ "dojo/_base/kernel", "dojo/query", "dijit/TitlePane", "util", "dojo/domReady!" ], function(dojo, query, TitlePane, util){
			var junkCatalog = util.buildCatalog("junkCatalogNode", [
				{ name: "Wrist watch", image: "watch.jpg", description: "Tell time with Swiss precision", quantity: 3 },
				{ name: "Life jacket", image: "life-jacket.jpg", description: "Stay afloat during your frequent shipwrecks", quantity: 1 },
				{ name: "Toy bulldozer", image: "bulldozer.jpg", description: "Move the earth, one cup at a time", quantity: 8 },
				{ name: "Vintage microphone", image: "microphone.jpg", description: "Make 'em swoon in your blue suede shoes", quantity: 0 },
				{ name: "TIE fighter", image: "tie-fighter.jpg", description: "Rid your neighborhood of pesky Rebel Scum", quantity: 0 }
			]);
	
			var foodCatalog = util.buildCatalog("foodCatalogNode", [
				{ name: "Apples", image: "apple.jpg", description: "Keep the doctor away on a daily basis", quantity: 10 },
				{ name: "Bananas", image: "bananas.jpg", description: "Bananas are an excellent source of potassium", quantity: 18 },
				{ name: "Tomatoes", image: "tomatoes.jpg", description: "Imported fresh daily from Dylan's front porch", quantity: 0 },
				{ name: "Bread", image: "bread.jpg", description: "Guaranteed to be either stale or fresh", quantity: 7 }
			]);
	
			var cartPane = new TitlePane({title: "Shopping Cart", open: false}, "cartPaneNode"),
				wishlistPane = new TitlePane({title: "Wishlist", open: false}, "wishlistPaneNode");
	
			var cart = new dojo.dnd.Target("cartPaneNode", {accept: ["inStock"]});
			cart.parent = query("#cartNode tbody")[0];
			var wishlist = new dojo.dnd.Target("wishlistPaneNode", {accept: ["inStock","outOfStock"]});
			wishlist.parent = query("#wishlistNode tbody")[0];
		});
	</script>
</head>
<body id="demo3" class="tundra">
	<h1>dojo.dnd :: Step 3</h1>
	
	<div id="store">
		<div id="wishListAndCart">
			<div id="cartPaneNode">
				<table id="cartNode"><tbody></tbody></table>
			</div>
			<div id="wishlistPaneNode">
				<table id="wishlistNode"><tbody></tbody></table>
			</div>
		</div>
	
		<div class="catalogContainer">
			<h2>Products</h2>
			<table id="junkCatalogNode">
				<thead>
					<tr>
						<th></th>
						<th>Junk</th>
						<th>Qty</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<table id="foodCatalogNode">
				<thead>
					<tr>
						<th></th>
						<th>Food</th>
						<th>Qty</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
		</div>
	
		<p class="instructions"><b>Instructions:</b> Drag products from the Catalog into either the Cart or Wishlist.</p>
	
		<p class="details"><b>Notes:</b></p>
		<ul>
			<li>This is step 3 in the SitePen blog's <a href="http://www.sitepen.com/blog/?p=358">Intro to Dojo DnD</a>.</li>
			<li>The Wishlist accepts anything in the store; the Cart only accepts items marked as in stock.</li>
			<li>Standard multiple selection works here. Beware; you can only drop a group if every item can be dropped into the list you're attempting to drop them on!</li>
			<li>Breakthrough at the lab! It's possible to clone products! (hint: drag an item into the list in which it already lives)</li>
		</ul>
	</div>

	<div id="footer"><a id="sitepen" href="http://www.sitepen.com/"><img src="images/sitepen150.png" alt="SitePen, Inc. logo"></a> © 2008–2011 SitePen, Inc. All Rights Reserved.</div>
</body>
</html>